var _e=Object.defineProperty;var be=(i,e,t)=>e in i?_e(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var y=(i,e,t)=>(be(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();/*!
 * Xtend UI (https://xtendui.com/)
 * @copyright (c) 2017-2022 Riccardo Caroli
 * @license MIT (https://github.com/xtendui/xtendui/blob/master/LICENSE.txt)
 */const a={};typeof window<"u"&&(window.XtSetGlobal&&(global[typeof window.XtSetGlobal=="string"?window.XtSetGlobal:"Xt"]=a),a._running={},a._currents={},a.options={},a._mountArr=[],a._unmountArr=[],a.resizeSkip=()=>matchMedia("(hover: none), (pointer: coarse)").matches,a.resizeDelay=200,a.medialoadedDelay=!1,a.durationTimescale=1,a.autoTimescale=1,a.scrolltoHashforce=null,a.formScrollWindowFactor=.2,a.ready=({func:i,state:e="interactive complete",raf:t=!1}={})=>{const n=[...e.split(" ")];if(n.includes(document.readyState))t?requestAnimationFrame(()=>{i()}):i();else{const s=()=>{n.includes(document.readyState)&&(i(),document.removeEventListener("readystatechange",s))};document.addEventListener("readystatechange",s)}},a._mutationObserver=new MutationObserver(i=>{for(const e of i)if(e.type==="childList"){for(const t of e.addedNodes)t.nodeType===1&&a._mountCheck({added:t});for(const t of e.removedNodes)t.nodeType===1&&a._unmountCheck({removed:t})}}),a.ready({func:()=>{a._mutationObserver.disconnect(),a._mutationObserver.observe(document.documentElement,{characterData:!1,attributes:!1,childList:!0,subtree:!0})}}),a.refresh=()=>{a._mountCheck()},a.mount=i=>{a._mountArr.push(i),a.ready({raf:i.raf,func:()=>{a._mountCheck({obj:i})}})},a.unmount=i=>{a._unmountArr.push(i)},a._mountCheck=({added:i=document.documentElement,obj:e}={})=>{var n;if(!i.closest("html"))return;const t=e?[e]:a._mountArr;for(const s of t){const r=[];i.matches(s.matches)&&r.push(i);for(const o of i.querySelectorAll(s.matches))r.push(o);if(r.length)for(const[o,c]of r.entries()){if(s.root&&!s.root.contains(c))continue;const l=(n=s.ignoreMount)!=null?n:".xt-ignore";if(l&&c.closest(l))continue;if(s.done=s.done?s.done:[],s.done.includes(c))return;s.done.push(c);const f=s.mount({ref:c,obj:s,index:o});f&&a.unmount({ref:c,root:s.root,ignoreUnmount:s.ignoreUnmount,unmount:f,unmountRemove:function(){s.done=s.done.filter(h=>h!==c),a._unmountArr=a._unmountArr.filter(h=>h!==this)}})}}},a._unmountCheck=({removed:i=document.documentElement}={})=>{var e;if(!i.closest("html")){for(const t of a._unmountArr)if(i===t.ref||i.contains(t.ref)){if(t.root&&!t.root.contains(t.ref))continue;const n=(e=t.ignoreUnmount)!=null?e:".xt-ignore";if(n&&t.ref.closest(n))continue;t.unmount({obj:t}),t.unmountRemove()}}},a._set=({name:i,el:e,self:t}={})=>{a.dataStorage.set(e,i,t)},a.get=({name:i,el:e}={})=>a.dataStorage.get(e,i),a._remove=({name:i,el:e}={})=>a.dataStorage.remove(e,i),a._initMatches=({self:i,optionsInitial:e}={})=>{const t=i.options;if(i.initial===void 0&&(i.matches&&a._removeMatches({self:i,optionsInitial:e}),t.matches)){i.matches=[];const n=Object.entries(t.matches);if(n.length)for(const[s,r]of n){const o=matchMedia(s);i.matches.push({mql:o,value:r}),a._eventMatches({self:i,mql:o,value:r,skipReinit:!0,optionsInitial:e}),o.addEventListener?o.addEventListener("change",a._eventMatches.bind(null,{self:i,mql:o,value:r,optionsInitial:e})):o.addListener(a._eventMatches.bind(null,{self:i,mql:o,value:r,optionsInitial:e}))}}},a._eventMatches=({self:i,mql:e,value:t,skipReinit:n=!1,optionsInitial:s}={})=>{!i.container.closest("html")||(e.matches?i.options=a.merge([i.options,t]):i.options=a.mergeReset({start:i.options,reset:s,check:t}),n||a.frame({el:i.container,ns:`${i.ns}MatchFrame`,func:()=>{a._eventReinit({self:i})}}))},a._removeMatches=({self:i,optionsInitial:e}={})=>{var t;if((t=i.matches)!=null&&t.length)for(const n of i.matches){const s=n.mql,r=n.value;s.removeEventListener?s.removeEventListener("change",a._eventMatches.bind(null,{self:i,mql:s,value:r,optionsInitial:e})):s.removeListener(a._eventMatches.bind(null,{self:i,mql:s,value:r,optionsInitial:e}))}},a._eventReinit=({self:i}={},e)=>{var t,n;(!((t=e==null?void 0:e.detail)!=null&&t.container)||((n=e==null?void 0:e.detail)==null?void 0:n.container.contains(i.container)))&&i.reinit()},a.dataStorage={_storage:new Map,set:(i,e,t)=>{a.dataStorage._storage.has(i)||a.dataStorage._storage.set(i,new Map);const n=a.dataStorage._storage.get(i);return n.set(e,t),n.get(e)},put:(i,e,t)=>{a.dataStorage._storage.has(i)||a.dataStorage._storage.set(i,new Map);const n=a.dataStorage._storage.get(i),s=n.get(e);return s||(n.set(e,t),n.get(e))},get:(i,e)=>{const t=a.dataStorage._storage.get(i);return t?t.get(e):null},getAll:i=>{const e=a.dataStorage._storage.get(i);return e||null},has:(i,e)=>a.dataStorage._storage.get(i).has(e),remove:(i,e)=>{const t=a.dataStorage._storage.get(i);if(!t)return null;const n=t.delete(e);return t.size===!1&&a.dataStorage._storage.delete(i),n}},a._classBody={currents:[],add:i=>{a._classBody.currents.push(i)},remove:i=>{a._classBody.currents=a._classBody.currents.filter(e=>e.c!==i.c||e.ns!==i.ns)},get:i=>a._classBody.currents.filter(e=>e.c===i.c)},a._friction=({el:i,obj:e,transform:t=!0}={})=>{a.frame({el:i,ns:"xtFrictionFrame"}),a.frame({el:i,ns:"xtFrictionInitFrame",func:()=>{if(a.visible({el:i})){let n,s;if(t){const l=a.getTranslate({el:i});n=l[0],s=l[1]}else{const l=i.getBoundingClientRect();n=l.left,s=l.top}let r=e.x-n,o=e.y-s;const c=e.friction;if(c&&a.dataStorage.get(i,"xtFrictionX")&&a.durationTimescale!==1e3?(n+=c({delta:Math.abs(r)})*Math.sign(r),s+=c({delta:Math.abs(o)})*Math.sign(o),t?i.style.transform=`translateX(${n}px) translateY(${s}px)`:(i.style.left=`${n}px`,i.style.top=`${s}px`)):(n=e.x,s=e.y,t?i.style.transform=`translateX(${n}px) translateY(${s}px)`:(i.style.top=`${s}px`,i.style.left=`${n}px`)),a.dataStorage.set(i,"xtFrictionX",n),a.dataStorage.set(i,"xtFrictionY",s),c&&a.durationTimescale!==1e3){const l=e.frictionLimit?e.frictionLimit:1.5;r=e.x-n,o=e.y-s,a.frame({el:i,ns:"xtFrictionFrame",func:()=>{Math.abs(r)>=l||Math.abs(o)>=l?a._friction({el:i,obj:e,transform:t}):(a.dataStorage.remove(i,"xtFrictionX"),a.dataStorage.remove(i,"xtFrictionY"))}})}}}})},a.getTranslate=({el:i}={})=>{const e=[],n=getComputedStyle(i).transform;let s=n.match(/^matrix3d\((.+)\)$/);return s?e.push(parseFloat(s[1].split(", ")[13])):(s=n.match(/^matrix\((.+)\)$/),s?e.push(parseFloat(s[1].split(", ")[4])):e.push(0),s?e.push(parseFloat(s[1].split(", ")[5])):e.push(0)),e},a.contains=({els:i,tr:e}={})=>{if(i instanceof HTMLElement)return i.contains(e);for(const t of i)if(t.contains(e))return!0;return!1},a.uniqueId=()=>(a.uid=a.uid!==void 0?a.uid:0,`xt-${a.uid++}`),a.merge=i=>{const e={};for(const t of i)if(t)for(const[n,s]of Object.entries(t))Array.isArray(s)?(e[n]=e[n]?e[n]:[],e[n].push(...s)):s!==null&&typeof s=="object"&&!s.nodeName&&s!==window?e[n]=a.merge([e[n],s]):e[n]=s;return e},a.mergeReset=({start:i,reset:e,check:t}={})=>{const n=i;for(const[s,r]of Object.entries(t))r!==null&&typeof r=="object"&&!Array.isArray(r)&&!r.nodeName&&r!==window?n[s]=a.mergeReset({start:i[s],reset:e[s],check:t[s]}):i[s]===t[s]&&(n[s]=e[s]);return n},a.sanitize=i=>a.sanitizeFnc?a.sanitizeFnc(i):i,a.node=({sanitize:i=!0,str:e})=>{const t=document.createElement("template");return t.innerHTML=i?a.sanitize(e.trim()):e.trim(),t.content.firstChild},a.nodes=({sanitize:i=!0,str:e})=>{const t=document.createElement("template");return t.innerHTML=i?a.sanitize(e.trim()):e.trim(),t.content.childNodes},a.script=({url:i,callback:e,defer:t=!0,async:n=!0}={})=>{if(!document.querySelector(`script[src="${i}"]`)){const s=n,r=document.createElement("script");e&&(r.onload=e),r.type="text/javascript",r.src=i,r.defer=t,r.async=s,document.body.append(r)}},a.frame=({el:i,ns:e="",func:t}={})=>{cancelAnimationFrame(a.dataStorage.get(i,`${e}Frame`)),t&&a.dataStorage.set(i,`${e}Frame`,requestAnimationFrame(()=>{t()}))},a.frameDouble=({el:i,ns:e="",func:t}={})=>{cancelAnimationFrame(a.dataStorage.get(i,`${e}FrameDouble`)),t&&a.dataStorage.set(i,`${e}FrameDouble`,requestAnimationFrame(()=>{a.dataStorage.set(i,`${e}FrameDouble`,requestAnimationFrame(()=>{t()}))}))},a.on=({el:i,ns:e="",duration:t,raf:n=!0,initial:s=!1,callback:r}={})=>{a.animTimeout({el:i,ns:e}),i.classList.add("on"),i.classList.remove("out");const o=()=>{i.classList.add("in"),i.classList.remove("done"),a.animTimeout({el:i,ns:e,duration:t,actionCurrent:"In",func:()=>{i.classList.add("done"),r&&r()}})};n?a.frameDouble({el:i,ns:e,func:o}):(a.frameDouble({el:i,ns:e}),o()),s&&i.classList.add("initial"),a.frameDouble({el:i,ns:`${e}Initial`,func:()=>{s&&i.classList.remove("initial")}})},a.off=({el:i,ns:e="",duration:t,raf:n=!0,initial:s=!1,callback:r}={})=>{a.animTimeout({el:i,ns:e}),i.classList.remove("on");const o=()=>{i.classList.remove("in","done"),i.classList.add("out"),a.animTimeout({el:i,ns:e,duration:t,actionCurrent:"Out",func:()=>{i.classList.remove("out"),r&&r()}})};n?a.frameDouble({el:i,ns:e,func:o}):(a.frameDouble({el:i,ns:e}),o()),s&&i.classList.add("initial"),a.frameDouble({el:i,ns:`${e}Initial`,func:()=>{s&&i.classList.remove("initial")}})},a.animTimeout=({el:i,ns:e="",duration:t,actionCurrent:n,func:s}={})=>{var r;clearTimeout(a.dataStorage.get(i,`${e}AnimTimeout`)),s&&(t=(r=a.animTime({el:i,duration:t,actionCurrent:n}))!=null?r:0,t?a.dataStorage.set(i,`${e}AnimTimeout`,setTimeout(s,t)):s())},a.animTime=({el:i,duration:e,actionCurrent:t}={})=>{const n=t&&i.getAttribute(`data-xt-duration-${t}`)||i.getAttribute("data-xt-duration");if(n)return isNaN(parseFloat(n))?n:parseFloat(n)/a.durationTimescale;if(typeof e=="function")return e;if(e||e===0)return e/a.durationTimescale},a.delayTime=({el:i,duration:e,actionCurrent:t}={})=>{const n=t&&i.getAttribute(`data-xt-delay-${t}`)||i.getAttribute("data-xt-delay");if(n)return isNaN(parseFloat(n))?n:parseFloat(n)/a.durationTimescale;if(typeof e=="function")return e;if(e||e===0)return e/a.durationTimescale},a.queryAll=({els:i,query:e}={})=>{if(!e||i.length===0)return[];if(i.length){const t=[];for(const n of i)t.push(...n.querySelectorAll(e));return t}else return Array.from(i.querySelectorAll(e))},a.visible=({el:i}={})=>!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length),a._setScrollbarWidth=()=>{if(a.scrollbarWidth===void 0){const s=a.dataStorage.put(window,"resize/scrollbar",a._setScrollbarWidth);removeEventListener("resize",s),addEventListener("resize",s)}const i=document.createElement("div");i.style.visibility="hidden",i.style.width="100%",i.style.msOverflowStyle="scrollbar",i.classList.add("xt-ignore","xt-overflow-main"),document.body.append(i),i.style.overflow="scroll";const e=document.createElement("div");e.style.width="100%",e.classList.add("xt-ignore"),i.append(e);const t=i.offsetWidth,n=e.offsetWidth;a.scrollbarWidth=t-n,document.documentElement.style.setProperty("--scrollbar-width",`${a.scrollbarWidth}px`),i.remove()},a.ready({func:()=>{a._setScrollbarWidth()}}),addEventListener("resize",i=>{var n;const e=window.innerWidth+window.outerWidth,t=window.innerHeight+window.outerHeight;!((n=i==null?void 0:i.detail)!=null&&n.force)&&a.dataStorage.get(window,"xtEventDelayWidth")===e&&(a.resizeSkip()||a.dataStorage.get(window,"xtEventDelayHeight")===t)||a.dataStorage.set(window,"eventDelaySaveTimeout",setTimeout(()=>{a.dataStorage.set(window,"xtEventDelayWidth",e),a.dataStorage.set(window,"xtEventDelayHeight",t),dispatchEvent(new CustomEvent("resize.xt",{detail:i==null?void 0:i.detail}))},a.resizeDelay))}),a.dataStorage.set(window,"xtEventDelayWidth",window.innerWidth+window.outerWidth),a.dataStorage.set(window,"xtEventDelayHeight",window.innerHeight+window.outerHeight),a._innerHeightSet=()=>{a.innerHeight=window.innerHeight,document.documentElement.style.setProperty("--vh",`${a.innerHeight*.01}px`)},addEventListener("resize.xt",()=>{a._innerHeightSet()}),a.ready({func:()=>{a._innerHeightSet()}}),a.scrolltriggerRerfreshFix=({ScrollTrigger:i}={})=>{i.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"});const e=()=>{i.refresh()};removeEventListener("resize.xt",e),addEventListener("resize.xt",e)});var ce={exports:{}};(function(i){(function(){function e(d,u){for(var g=!1,p=0;p<d.length;p++)if(g=u(d[p],p,d),g)return g;return g}function t(d){return function(u){var g=[],p=1;function _(){return e(d,function(te){var Y=te.re.exec(u);if(Y){var ne=Y[0];return u=u.slice(ne.length),{raw:ne,matched:te.f(Y,p)}}else return})}for(;u!=="";){var L=_();if(!L){var M=new SyntaxError("Unexpected character: "+u[0]+"; input: "+u.substr(0,100));throw M.line=p,M}L.matched.line=p,p+=L.raw.replace(/[^\n]/g,"").length,g.push(L.matched)}return g}}function n(d){var u=d[1].replace(/([^'\\]|\\['bnrtf\\]|\\u[0-9a-fA-F]{4})/g,function(g){return g==='"'?'\\"':g==="\\'"?"'":g});return{type:"string",match:'"'+u+'"',value:JSON.parse('"'+u+'"')}}function s(d){return{type:"string",match:d[0],value:JSON.parse(d[0])}}function r(d){return{type:"string",value:d[0],match:'"'+d[0].replace(/./g,function(u){return u==="\\"?"\\\\":u})+'"'}}function o(d){return{type:" ",match:d[0].replace(/./g,function(u){return/\s/.test(u)?u:" "})}}function c(d){return{type:"number",match:d[0],value:parseFloat(d[0])}}function l(d){var u;switch(d[1]){case"null":u=null;break;case"true":u=!0;break;case"false":u=!1;break}return{type:"atom",match:d[0],value:u}}function f(d){function u(p){return function(_){return{type:p,match:_[0]}}}var g=[{re:/^\s+/,f:u(" ")},{re:/^\{/,f:u("{")},{re:/^\}/,f:u("}")},{re:/^\[/,f:u("[")},{re:/^\]/,f:u("]")},{re:/^,/,f:u(",")},{re:/^:/,f:u(":")},{re:/^(true|false|null)/,f:l},{re:/^\-?\d+(\.\d+)?([eE][+-]?\d+)?/,f:c},{re:/^"([^"\\]|\\["bnrtf\\\/]|\\u[0-9a-fA-F]{4})*"/,f:s}];return d&&(g=g.concat([{re:/^'(([^'\\]|\\['bnrtf\\\/]|\\u[0-9a-fA-F]{4})*)'/,f:n},{re:/^\/\/.*?(?:\r\n|\r|\n)/,f:o},{re:/^\/\*[\s\S]*?\*\//,f:o},{re:/^[$a-zA-Z0-9_\-+\.\*\?!\|&%\^\/#\\]+/,f:r}])),g}var h=t(f(!0)),v=t(f(!1));function E(d,u){for(;u>=0;u--)if(d[u].type!==" ")return u}function w(d){var u=[];return d.forEach(function(g,p){if(g.type==="]"||g.type==="}"){var _=E(u,p-1);if(_&&u[_].type===","){var L=E(u,_-1);L&&u[L].type!=="["&&u[L].type!=="{"&&(u[_]={type:" ",match:" ",line:d[_].line})}}u.push(g)}),u}function $(d){var u=h(d);return u=w(u),u.reduce(function(g,p){return g+p.match},"")}function N(d,u){var g=d[u.pos];if(u.pos+=1,!g){var p=d.length!==0?d[d.length-1].line:1;return{type:"eof",line:p}}return g}function O(d){switch(d.type){case"atom":case"string":case"number":return d.type+" "+d.match;case"eof":return"end-of-file";default:return"'"+d.type+"'"}}function k(d,u){var g=N(d,u);if(g.type!==":"){var p="Unexpected token: "+O(g)+", expected ':'";if(u.tolerant)u.warnings.push({message:p,line:g.line}),u.pos-=1;else{var _=new SyntaxError(p);throw _.line=g.line,_}}}function H(d,u,g){for(var p=[",",":","]","}"],_=N(d,u);;){if(g&&g.indexOf(_.type)!==-1)return _;if(_.type==="eof")return _;if(p.indexOf(_.type)!==-1){var L="Unexpected token: "+O(_)+", expected '[', '{', number, string or atom";if(u.tolerant)u.warnings.push({message:L,line:_.line}),_=N(d,u);else{var M=new SyntaxError(L);throw M.line=_.line,M}}else return _}}function q(d,u,g){if(d.tolerant)d.warnings.push({message:g,line:u.line});else{var p=new SyntaxError(g);throw p.line=u.line,p}}function F(d,u,g){q(d,u,"Unexpected token: "+O(u)+", expected "+g)}function P(d,u,g){var p=g.value;d.duplicate&&Object.prototype.hasOwnProperty.call(u,p)&&q(d,g,"Duplicate key: "+p)}function T(d,u,g,p){p=d.reviver?d.reviver(g,p):p,p!==void 0&&(u[g]=p)}function m(d,u,g){var p=H(d,u,[":"]),_,L;if(p.type!=="string")switch(F(u,p,"string"),p.type){case":":p={type:"string",value:"null",line:p.line},u.pos-=1;break;case"number":case"atom":p={type:"string",value:""+p.value,line:p.line};break;case"[":case"{":u.pos-=1,L=I(d,u),T(u,g,"null",L);return}P(u,g,p),_=p.value,k(d,u),L=I(d,u),T(u,g,_,L)}function b(d,u,g){var p=g.length,_=I(d,u);g[p]=u.reviver?u.reviver(""+p,_):_}function S(d,u){return x(d,u,{},{skip:[":","}"],elementParser:m,elementName:"string",endSymbol:"}"})}function A(d,u){return x(d,u,[],{skip:["]"],elementParser:b,elementName:"json object",endSymbol:"]"})}function x(d,u,g,p){var _=H(d,u,p.skip);switch(_.type==="eof"&&(F(u,_,"'"+p.endSymbol+"' or "+p.elementName),_={type:p.endSymbol,line:_.line}),_.type){case p.endSymbol:return g;default:u.pos-=1,p.elementParser(d,u,g);break}for(;;)switch(_=N(d,u),_.type!==p.endSymbol&&_.type!==","&&(F(u,_,"',' or '"+p.endSymbol+"'"),_={type:_.type==="eof"?p.endSymbol:",",line:_.line},u.pos-=1),_.type){case p.endSymbol:return g;case",":p.elementParser(d,u,g);break}}function D(d,u,g){if(u.pos<d.length&&q(u,d[u.pos],"Unexpected token: "+O(d[u.pos])+", expected end-of-input"),u.tolerant&&u.warnings.length!==0){var p=u.warnings.length===1?u.warnings[0].message:u.warnings.length+" parse warnings",_=new SyntaxError(p);throw _.line=u.warnings[0].line,_.warnings=u.warnings,_.obj=g,_}}function I(d,u,g){var p=H(d,u),_;switch(p.type==="eof"&&F(u,p,"json object"),p.type){case"{":_=S(d,u);break;case"[":_=A(d,u);break;case"string":case"number":case"atom":_=p.value;break}return g&&(_=u.reviver?u.reviver("",_):_,D(d,u,_)),_}function C(d,u){if(typeof u=="function"||u===void 0)return JSON.parse($(d),u);if(new Object(u)!==u)throw new TypeError("opts/reviver should be undefined, a function or an object");if(u.relaxed=u.relaxed!==void 0?u.relaxed:!0,u.warnings=u.warnings||u.tolerant||!1,u.tolerant=u.tolerant||!1,u.duplicate=u.duplicate||!1,!u.warnings&&!u.relaxed)return JSON.parse(d,u.reviver);var g=u.relaxed?h(d):v(d);if(u.relaxed&&(g=w(g)),u.warnings){g=g.filter(function(L){return L.type!==" "});var p={pos:0,reviver:u.reviver,tolerant:u.tolerant,duplicate:u.duplicate,warnings:[]};return I(g,p,!0)}else{var _=g.reduce(function(L,M){return L+M.match},"");return JSON.parse(_,u.reviver)}}function Q(d,u){return JSON.stringify(u)+":"+R(d[u])}function R(d){switch(typeof d){case"string":case"number":case"boolean":return JSON.stringify(d)}if(Array.isArray(d))return"["+d.map(R).join(",")+"]";if(new Object(d)===d){var u=Object.keys(d);return u.sort(),"{"+u.map(Q.bind(null,d))+"}"}return"null"}var V={transform:$,parse:C,stringify:R};i.exports=V})()})(ce);const ue=ce.exports;/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var fe=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],G=fe.join(","),de=typeof Element>"u",B=de?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,J=!de&&Element.prototype.getRootNode?function(i){return i.getRootNode()}:function(i){return i.ownerDocument},me=function(e,t,n){var s=Array.prototype.slice.apply(e.querySelectorAll(G));return t&&B.call(e,G)&&s.unshift(e),s=s.filter(n),s},ge=function i(e,t,n){for(var s=[],r=Array.from(e);r.length;){var o=r.shift();if(o.tagName==="SLOT"){var c=o.assignedElements(),l=c.length?c:o.children,f=i(l,!0,n);n.flatten?s.push.apply(s,f):s.push({scopeParent:o,candidates:f})}else{var h=B.call(o,G);h&&n.filter(o)&&(t||!e.includes(o))&&s.push(o);var v=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),E=!n.shadowRootFilter||n.shadowRootFilter(o);if(v&&E){var w=i(v===!0?o.children:v.children,!0,n);n.flatten?s.push.apply(s,w):s.push({scopeParent:o,candidates:w})}else r.unshift.apply(r,o.children)}}return s},pe=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},ye=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},ve=function(e){return e.tagName==="INPUT"},Se=function(e){return ve(e)&&e.type==="hidden"},Ee=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},we=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Ae=function(e){if(!e.name)return!0;var t=e.form||J(e),n=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var r=we(s,e.form);return!r||r===e},xe=function(e){return ve(e)&&e.type==="radio"},$e=function(e){return xe(e)&&!Ae(e)},Te=function(e){for(var t,n=J(e).host,s=!!((t=n)!==null&&t!==void 0&&t.ownerDocument.contains(n)||e.ownerDocument.contains(e));!s&&n;){var r;n=J(n).host,s=!!((r=n)!==null&&r!==void 0&&r.ownerDocument.contains(n))}return s},se=function(e){var t=e.getBoundingClientRect(),n=t.width,s=t.height;return n===0&&s===0},Le=function(e,t){var n=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=B.call(e,"details>summary:first-of-type"),o=r?e.parentElement:e;if(B.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var c=e;e;){var l=e.parentElement,f=J(e);if(l&&!l.shadowRoot&&s(l)===!0)return se(e);e.assignedSlot?e=e.assignedSlot:!l&&f!==e.ownerDocument?e=f.host:e=l}e=c}if(Te(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return se(e);return!1},Ne=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var s=t.children.item(n);if(s.tagName==="LEGEND")return B.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},X=function(e,t){return!(t.disabled||Se(t)||Le(t,e)||Ee(t)||Ne(t))},j=function(e,t){return!($e(t)||pe(t)<0||!X(e,t))},De=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Ie=function i(e){var t=[],n=[];return e.forEach(function(s,r){var o=!!s.scopeParent,c=o?s.scopeParent:s,l=pe(c,o),f=o?i(s.candidates):c;l===0?o?t.push.apply(t,f):t.push(c):n.push({documentOrder:r,tabIndex:l,item:s,isScope:o,content:f})}),n.sort(ye).reduce(function(s,r){return r.isScope?s.push.apply(s,r.content):s.push(r.content),s},[]).concat(t)},ke=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ge([e],t.includeContainer,{filter:j.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:De}):n=me(e,t.includeContainer,j.bind(null,t)),Ie(n)},Oe=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ge([e],t.includeContainer,{filter:X.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=me(e,t.includeContainer,X.bind(null,t)),n},K=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return B.call(e,G)===!1?!1:j(t,e)},He=fe.concat("iframe").join(","),Z=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return B.call(e,He)===!1?!1:X(t,e)};/*!
* focus-trap 7.2.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function re(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function ae(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?re(Object(t),!0).forEach(function(n){qe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function qe(i,e,t){return e=Fe(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ce(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Fe(i){var e=Ce(i,"string");return typeof e=="symbol"?e:String(e)}var oe={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var s=e.indexOf(t);s===-1||e.splice(s,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},Re=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Pe=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},z=function(e){return e.key==="Tab"||e.keyCode===9},Me=function(e){return z(e)&&!e.shiftKey},Be=function(e){return z(e)&&e.shiftKey},ie=function(e){return setTimeout(e,0)},le=function(e,t){var n=-1;return e.every(function(s,r){return t(s)?(n=r,!1):!0}),n},W=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,n):e},U=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},We=[],he=function(e,t){var n=(t==null?void 0:t.document)||document,s=(t==null?void 0:t.trapStack)||We,r=ae({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Me,isKeyBackward:Be},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},c,l=function(m,b,S){return m&&m[b]!==void 0?m[b]:r[S||b]},f=function(m){return o.containerGroups.findIndex(function(b){var S=b.container,A=b.tabbableNodes;return S.contains(m)||A.find(function(x){return x===m})})},h=function(m){var b=r[m];if(typeof b=="function"){for(var S=arguments.length,A=new Array(S>1?S-1:0),x=1;x<S;x++)A[x-1]=arguments[x];b=b.apply(void 0,A)}if(b===!0&&(b=void 0),!b){if(b===void 0||b===!1)return b;throw new Error("`".concat(m,"` was specified but was not a node, or did not return a node"))}var D=b;if(typeof b=="string"&&(D=n.querySelector(b),!D))throw new Error("`".concat(m,"` as selector refers to no known node"));return D},v=function(){var m=h("initialFocus");if(m===!1)return!1;if(m===void 0)if(f(n.activeElement)>=0)m=n.activeElement;else{var b=o.tabbableGroups[0],S=b&&b.firstTabbableNode;m=S||h("fallbackFocus")}if(!m)throw new Error("Your focus-trap needs to have at least one focusable element");return m},E=function(){if(o.containerGroups=o.containers.map(function(m){var b=ke(m,r.tabbableOptions),S=Oe(m,r.tabbableOptions);return{container:m,tabbableNodes:b,focusableNodes:S,firstTabbableNode:b.length>0?b[0]:null,lastTabbableNode:b.length>0?b[b.length-1]:null,nextTabbableNode:function(x){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=S.findIndex(function(C){return C===x});if(!(I<0))return D?S.slice(I+1).find(function(C){return K(C,r.tabbableOptions)}):S.slice(0,I).reverse().find(function(C){return K(C,r.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(m){return m.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},w=function T(m){if(m!==!1&&m!==n.activeElement){if(!m||!m.focus){T(v());return}m.focus({preventScroll:!!r.preventScroll}),o.mostRecentlyFocusedNode=m,Re(m)&&m.select()}},$=function(m){var b=h("setReturnFocus",m);return b||(b===!1?!1:m)},N=function(m){var b=U(m);if(!(f(b)>=0)){if(W(r.clickOutsideDeactivates,m)){c.deactivate({returnFocus:r.returnFocusOnDeactivate&&!Z(b,r.tabbableOptions)});return}W(r.allowOutsideClick,m)||m.preventDefault()}},O=function(m){var b=U(m),S=f(b)>=0;S||b instanceof Document?S&&(o.mostRecentlyFocusedNode=b):(m.stopImmediatePropagation(),w(o.mostRecentlyFocusedNode||v()))},k=function(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=U(m);E();var A=null;if(o.tabbableGroups.length>0){var x=f(S),D=x>=0?o.containerGroups[x]:void 0;if(x<0)b?A=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:A=o.tabbableGroups[0].firstTabbableNode;else if(b){var I=le(o.tabbableGroups,function(u){var g=u.firstTabbableNode;return S===g});if(I<0&&(D.container===S||Z(S,r.tabbableOptions)&&!K(S,r.tabbableOptions)&&!D.nextTabbableNode(S,!1))&&(I=x),I>=0){var C=I===0?o.tabbableGroups.length-1:I-1,Q=o.tabbableGroups[C];A=Q.lastTabbableNode}else z(m)||(A=D.nextTabbableNode(S,!1))}else{var R=le(o.tabbableGroups,function(u){var g=u.lastTabbableNode;return S===g});if(R<0&&(D.container===S||Z(S,r.tabbableOptions)&&!K(S,r.tabbableOptions)&&!D.nextTabbableNode(S))&&(R=x),R>=0){var V=R===o.tabbableGroups.length-1?0:R+1,d=o.tabbableGroups[V];A=d.firstTabbableNode}else z(m)||(A=D.nextTabbableNode(S))}}else A=h("fallbackFocus");A&&(z(m)&&m.preventDefault(),w(A))},H=function(m){if(Pe(m)&&W(r.escapeDeactivates,m)!==!1){m.preventDefault(),c.deactivate();return}(r.isKeyForward(m)||r.isKeyBackward(m))&&k(m,r.isKeyBackward(m))},q=function(m){var b=U(m);f(b)>=0||W(r.clickOutsideDeactivates,m)||W(r.allowOutsideClick,m)||(m.preventDefault(),m.stopImmediatePropagation())},F=function(){if(!!o.active)return oe.activateTrap(s,c),o.delayInitialFocusTimer=r.delayInitialFocus?ie(function(){w(v())}):w(v()),n.addEventListener("focusin",O,!0),n.addEventListener("mousedown",N,{capture:!0,passive:!1}),n.addEventListener("touchstart",N,{capture:!0,passive:!1}),n.addEventListener("click",q,{capture:!0,passive:!1}),n.addEventListener("keydown",H,{capture:!0,passive:!1}),c},P=function(){if(!!o.active)return n.removeEventListener("focusin",O,!0),n.removeEventListener("mousedown",N,!0),n.removeEventListener("touchstart",N,!0),n.removeEventListener("click",q,!0),n.removeEventListener("keydown",H,!0),c};return c={get active(){return o.active},get paused(){return o.paused},activate:function(m){if(o.active)return this;var b=l(m,"onActivate"),S=l(m,"onPostActivate"),A=l(m,"checkCanFocusTrap");A||E(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,b&&b();var x=function(){A&&E(),F(),S&&S()};return A?(A(o.containers.concat()).then(x,x),this):(x(),this)},deactivate:function(m){if(!o.active)return this;var b=ae({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},m);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,P(),o.active=!1,o.paused=!1,oe.deactivateTrap(s,c);var S=l(b,"onDeactivate"),A=l(b,"onPostDeactivate"),x=l(b,"checkCanReturnFocus"),D=l(b,"returnFocus","returnFocusOnDeactivate");S&&S();var I=function(){ie(function(){D&&w($(o.nodeFocusedBeforeActivation)),A&&A()})};return D&&x?(x($(o.nodeFocusedBeforeActivation)).then(I,I),this):(I(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,P(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,E(),F(),this)},updateContainerElements:function(m){var b=[].concat(m).filter(Boolean);return o.containers=b.map(function(S){return typeof S=="string"?n.querySelector(S):S}),o.active&&E(),this}},c.updateContainerElements(e),c};const ze=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:he},Symbol.toStringTag,{value:"Module"}));/*!
 * Xtend UI (https://xtendui.com/)
 * @copyright (c) 2017-2022 Riccardo Caroli
 * @license MIT (https://github.com/xtendui/xtendui/blob/master/LICENSE.txt)
 */a.JSON=ue;a.focusTrap=ze;class ee{constructor(e,t={}){y(this,"_optionsCustom");y(this,"_optionsDefault");y(this,"_optionsInitial");y(this,"_componentNs");y(this,"_mode");y(this,"_classes",[]);y(this,"_classesIn",[]);y(this,"_classesOut",[]);y(this,"_classesDone",[]);y(this,"_classesInitial",[]);y(this,"_classesBefore",[]);y(this,"_classesAfter",[]);y(this,"_initialCurrents",[]);y(this,"_destroyElements");y(this,"_containerElements");y(this,"_containerTargets");y(this,"_oldIndex");y(this,"_inverse");y(this,"_queueIn",[]);y(this,"_queueOut",[]);y(this,"_autoblock");y(this,"_disabledManual");y(this,"_hasHash");y(this,"_autorunning");y(this,"_observer");y(this,"_focusTrap");y(this,"_hasContainer");y(this,"_search","");y(this,"componentName");y(this,"ns");y(this,"options");y(this,"initial");y(this,"disabled",!1);y(this,"container");y(this,"elements",[]);y(this,"targets",[]);y(this,"index");y(this,"direction");y(this,"_usedWidth");y(this,"_wrap");y(this,"_keepHeight");y(this,"_autoHeight");y(this,"_groups");y(this,"drag",{});y(this,"pags");const n=this;n.container=e,n._optionsCustom=t,n.componentName=n.constructor.componentName,n._componentNs=n.componentName.replace("-","."),a._set({name:n.componentName,el:n.container,self:n}),n._init()}_init(){const e=this;e._initVars(),e._initLogic()}_initVars(){const e=this;e._optionsDefault=a.merge([e.constructor.optionsDefaultSuper,e.constructor.optionsDefault]),e._optionsDefault=a.merge([e._optionsDefault,a.options[e.componentName]]),e._optionsInitial=e.options=a.merge([e._optionsDefault,e._optionsCustom]);const t=e.options;e._classes=t.class?[...t.class.split(" ")]:[],e._classesIn=t.classIn?[...t.classIn.split(" ")]:[],e._classesOut=t.classOut?[...t.classOut.split(" ")]:[],e._classesDone=t.classDone?[...t.classDone.split(" ")]:[],e._classesInitial=t.classInitial?[...t.classInitial.split(" ")]:[],e._classesBefore=t.classBefore?[...t.classBefore.split(" ")]:[],e._classesAfter=t.classAfter?[...t.classAfter.split(" ")]:[]}_initLogic({save:e=!0}={}){const t=this;t._destroyElements=[document,window,t.container],t.enable(),t._initSetup(),a._initMatches({self:t,optionsInitial:t._optionsInitial}),t._initScope(),t._initEvents(),t._initA11y(),t._initStart({save:e}),(t.options.disabled||t._disabledManual)&&t.disable()}_initSetup(){var n;const e=this,t=e.options;e._containerTargets=e.container,t.targets&&t.targets.indexOf("#")!==-1?(e._mode="unique",e._containerTargets=document.documentElement,e.ns=`${e.componentName}-${t.targets.toString()}-${e._classes.toString()}`):(e._mode="multiple",e.ns=(n=e.ns)!=null?n:a.uniqueId()),e.ns=e.ns.replace(/^[^a-z]+|[ ,#_:.-]+/gi,""),e._addNamespace(),e._setCurrents([])}_initScope(){const e=this;e._initScopeElements(),e._initScopeTargets()}_initScopeElements(){const e=this,t=e.options;if(e._containerElements=e.container,t.elements){t.elements.indexOf("#")!==-1&&(e._containerElements=document.documentElement);let n=Array.from(e._containerElements.querySelectorAll(t.elements));t.exclude&&(n=n.filter(s=>!s.matches(t.exclude))),e.elements=n,e._destroyElements.push(...e.elements)}if(e.elements.length||(e.elements=[e.container]),t.elementsInner)for(const n of e.elements){const s=a.queryAll({els:n,query:t.elementsInner});a.dataStorage.set(n,`elementsInner/${e.ns}`,s)}}_initScopeTargets(){const e=this,t=e.options;if(t.targets){let n=Array.from(e._containerTargets.querySelectorAll(t.targets));if(t.exclude&&(n=n.filter(s=>!s.matches(t.exclude))),e.targets=n,e._destroyElements.push(...e.targets),t.targetsInner)for(const s of e.targets){const r=a.queryAll({els:s,query:t.targetsInner});a.dataStorage.set(s,`targetsInner/${e.ns}`,r)}}}_initStart({save:e=!1}={}){const t=this,n=t.options;t._setCurrents([]);let s=0;t.initial=!0,t.index=null,t._oldIndex=null,a._running[t.ns]=[],s=t._initActivate({save:e});let r=n.min-s;if(r>0){s+=r;for(let o=0;o<r;o++){const c=t.elements[o];if(c&&!c.classList.contains([...t._classes])&&!c.checked)if(n.on){const l=n.on.split(" ")[0];t._getEventParent({el:c,event:l}).dispatchEvent(new CustomEvent(l,{detail:{force:!0}}))}else t._eventOn({el:c,force:!0});else r<t.elements.length&&r++}}e&&(t._initialCurrents=t._getCurrents().slice(0)),s===0&&a.frameDouble({el:t.container,ns:`${t.ns}Init`,func:()=>{t.container.setAttribute(`data-${t.componentName}-init`,""),t.container.dispatchEvent(new CustomEvent(`init.${t._componentNs}`)),t._eventAutostart(),t.initial=!1,n.debug&&console.debug(`${t.componentName} init`,t)}})}_initActivate({save:e=!1}={}){var c;const t=this,n=t.options,s=l=>{for(const f of t._classes)if(l.classList.contains(f)||l.checked)return!0;return!1},r=t._hashChange({save:e});let o=(c=r.currents)!=null?c:0;for(const l of t.getElementsGroups()){let f=!1;if(e?n.classSkip!==!0&&!n.classSkip.elements&&(f=s(l)):t._initialCurrents.includes(l)&&(f=!0),f&&o<n.max||r.arr.includes(l))l.classList.add(...t._classes),l.classList.add(...t._classesIn),l.classList.add(...t._classesInitial);else{if(n.classSkip!==!0&&!n.classSkip.elements){const v=t.getElements({el:l});for(const E of v)E.classList.remove(...t._classes,...t._classesIn,...t._classesOut,...t._classesDone,...t._classesInitial,...t._classesBefore,...t._classesAfter)}if(n.elementsInner&&n.classSkip!==!0&&!n.classSkip.elementsInner){const v=a.dataStorage.get(l,`elementsInner/${t.ns}`);for(const E of v)E.classList.remove(...t._classes,...t._classesIn,...t._classesOut,...t._classesDone,...t._classesInitial,...t._classesBefore,...t._classesAfter)}}const h=t.getTargets({el:l});for(const v of h){e&&!f&&n.classSkip!==!0&&!n.classSkip.targets&&(f=s(v));const E=t.getElements({el:v,same:!0});if(f&&o<n.max||r.arr.some(w=>E.includes(w)))v.classList.add(...t._classes),v.classList.add(...t._classesIn),v.classList.add(...t._classesInitial);else if(n.classSkip!==!0&&!n.classSkip.targets&&v.classList.remove(...t._classes,...t._classesIn,...t._classesOut,...t._classesDone,...t._classesInitial,...t._classesBefore,...t._classesAfter),n.targetsInner&&n.classSkip!==!0&&!n.classSkip.targetsInner){const w=a.dataStorage.get(v,`targetsInner/${t.ns}`);for(const $ of w)$.classList.remove(...t._classes,...t._classesIn,...t._classesOut,...t._classesDone,...t._classesInitial,...t._classesBefore,...t._classesAfter)}}if(f&&o<n.max)if(o++,r.arr.push(l),n.on){const v=n.on.split(" ")[0];t._getEventParent({el:l,event:v}).dispatchEvent(new CustomEvent(v,{detail:{force:!0}}))}else t._eventOn({el:l,force:!0})}return o}_initEvents(){const e=this,t=e.options;e._removeEvents();for(const n of e.elements){const s=a.dataStorage.put(n,`${t.on}/oncustom/${e.ns}`,e._eventOnHandler.bind(e,{el:n,force:!0}));if(n.addEventListener(`on.trigger.${e._componentNs}`,s),t.on){const o=[...t.on.split(" ")];for(const c of o){const l=e._getEventParent({el:n,event:c});l!==n&&e._destroyElements.push(l);const f=a.dataStorage.put(l,`${t.on}/on/${e.ns}`,e._eventOnHandler.bind(e,{el:n}));l.addEventListener(c,f)}}const r=a.dataStorage.put(n,`${t.off}/offcustom/${e.ns}`,e._eventOffHandler.bind(e,{el:n,force:!0}));if(n.addEventListener(`off.trigger.${e._componentNs}`,r),t.off){const o=[...t.off.split(" ")];for(const c of o)if(![...t.on.split(" ")].includes(c)){const l=e._getEventParent({el:n,event:c});l!==n&&e._destroyElements.push(l);const f=a.dataStorage.put(l,`${t.off}/off/${e.ns}`,e._eventOffHandler.bind(e,{el:n}));l.addEventListener(c,f)}}if(t.on){if(t.preventEvent){const o=[...t.on.split(" ")];if(o.includes("click")||o.includes("mouseenter")||o.includes("mousehover")){const c=a.dataStorage.put(n,`touchend/preventevent/${e.ns}`,e._eventPreventeventStartHandler.bind(e,{el:n}));n.addEventListener("touchend",c)}if(o.includes("click")){const c=a.dataStorage.put(n,`mouseup keyup/preventevent/${e.ns}`,e._eventPreventeventStartHandler.bind(e,{el:n}));n.addEventListener("mouseup",c),n.addEventListener("keyup",c)}}a.dataStorage.put(n,`active/preventevent/${e.ns}`,e.hasCurrent({el:n}))}}for(const n of e.targets){const s=a.dataStorage.put(n,`${t.on}/oncustom/${e.ns}`,e._eventOnHandler.bind(e,{el:n,force:!0}));n.addEventListener(`on.trigger.${e._componentNs}`,s);const r=a.dataStorage.put(n,`${t.off}/offcustom/${e.ns}`,e._eventOffHandler.bind(e,{el:n,force:!0}));n.addEventListener(`off.trigger.${e._componentNs}`,r)}if(t.auto&&t.auto.time){const n=a.dataStorage.put(e.container,`autostart/${e.ns}`,e._eventAutostart.bind(e)),s=a.dataStorage.put(e.container,`autostop/${e.ns}`,e._eventAutostop.bind(e)),r=a.dataStorage.set(window,`focus/auto/${e.ns}`,n);addEventListener("focus",r);const o=a.dataStorage.set(window,`blur/auto/${e.ns}`,s);if(addEventListener("blur",o),e.container.addEventListener(`autostart.trigger.${e._componentNs}`,n),e.container.addEventListener(`autostop.trigger.${e._componentNs}`,s),t.auto.pause){const c=e.container.querySelectorAll(t.auto.pause);if(c.length){e._destroyElements.push(...c);for(const l of c){const f=a.dataStorage.put(l,`mouseenter focus/auto/${e.ns}`,e._eventAutostop.bind(e)),h=["mouseenter","focus"];for(const w of h)l.addEventListener(w,f);const v=a.dataStorage.put(l,`mouseleave blur/auto/${e.ns}`,e._eventAutostart.bind(e)),E=["mouseleave","blur"];for(const w of E)l.addEventListener(w,v)}}}}if(t.hash){for(const n of e.elements)if(n.getAttribute(t.hash)){e._hasHash=!0;break}if(!e._hasHash){for(const n of e.targets)if(n.getAttribute(t.hash)){e._hasHash=!0;break}}}if(e._hasHash){const n=a.dataStorage.put(window,`popstate/${e.ns}`,e._hashChange.bind(e).bind(e,{save:!0}));addEventListener("popstate",n)}if(t.jump)for(const n of e.targets){const s=a.dataStorage.put(n,`click/jump/${e.ns}`,e._eventJumpHandler.bind(e).bind(e,{el:n}));n.addEventListener("click",s,!0),e.disabled||n.classList.add("xt-jump")}if(t.navigation&&(e.navs=e.container.querySelectorAll(t.navigation),e.navs.length)){e._destroyElements.push(...e.navs);for(const n of e.navs){const s=a.dataStorage.put(n,`click/nav/${e.ns}`,e._eventNavHandler.bind(e).bind(e,{el:n}));n.addEventListener("click",s)}}if(t.closeauto){const n=a.dataStorage.set(window,`closeauto.trigger.xt/${e.ns}`,e._eventCloseautoHandler.bind(e));addEventListener("closeauto.trigger.xt",n,!0)}if(t.openauto){const n=a.dataStorage.set(window,`openauto.trigger.xt/${e.ns}`,e._eventOpenautoHandler.bind(e));addEventListener("openauto.trigger.xt",n,!0)}if(t.mediaLoaded||t.mediaLoadedReinit){for(const n of e.elements){const s=Array.from(n.querySelectorAll("img"));e._destroyElements.push(...s);for(const r of s)if(!a.dataStorage.get(r,`${e.ns}MedialoadedDone`))if(a.dataStorage.set(r,`${e.ns}MedialoadedDone`,!0),r.complete)e._eventMedialoadedHandler({img:r,el:n});else{const o=a.dataStorage.put(r,`load/media/${e.ns}`,e._eventMedialoadedHandler.bind(e).bind(e,{img:r,el:n,deferred:!0}));r.addEventListener("load",o)}}for(const n of e.targets){const s=Array.from(n.querySelectorAll("img"));e._destroyElements.push(...s);for(const r of s)if(!a.dataStorage.get(r,`${e.ns}MedialoadedDone`))if(r.complete)e._eventMedialoadedHandler({img:r,el:n});else{const o=a.dataStorage.put(r,`load/media/${e.ns}`,e._eventMedialoadedHandler.bind(e).bind(e,{img:r,el:n,deferred:!0,reinit:!0}));r.addEventListener("load",o)}}}t.visibleReinit&&(a.visible({el:e.container})||(e._observer=new IntersectionObserver((n,s)=>{for(const r of n)r.intersectionRatio>0&&(e._eventVisibleReinit(),s.disconnect(),e._observer=null)},{root:null}),e._observer.observe(e.container)))}_eventOnHandler({el:e,force:t=!1},n){var o;const s=this,r=s.options;if(t=t||((o=n==null?void 0:n.detail)==null?void 0:o.force),e=r.groupElements||s.targets.includes(e)?s.getElements({el:e})[0]:e,!t&&r.eventLimit){const c=s._containerElements.querySelectorAll(r.eventLimit);if(s._containerElements.matches(r.eventLimit))return;if(c.length&&a.contains({els:c,tr:n.target}))return}s._eventOn({el:e,force:t},n)}_eventOffHandler({el:e,force:t=!1},n){var o;const s=this,r=s.options;if(t=t||((o=n==null?void 0:n.detail)==null?void 0:o.force),e=r.groupElements||s.targets.includes(e)?s.getElements({el:e})[0]:e,!t&&r.eventLimit){const c=s._containerElements.querySelectorAll(r.eventLimit);if(s._containerElements.matches(r.eventLimit))return;if(c.length&&a.contains({els:c,tr:n.target}))return}s._eventOff({el:e,force:t},n)}_eventPreventeventStartHandler({el:e}={}){const t=this;a.dataStorage.put(e,`active/preventevent/${t.ns}`,t.hasCurrent({el:e}));const n=a.dataStorage.put(e,`click keypress/preventevent/${t.ns}`,t._eventPreventeventHandler.bind(t,{el:e}));e.addEventListener("click",n),e.addEventListener("keypress",n);const s=a.dataStorage.put(e,`off/preventevent/${t.ns}`,t._eventPreventeventResetHandler.bind(t,{el:e}));e.addEventListener(`off.${t._componentNs}`,s)}_eventPreventeventEndHandler({el:e}={}){const t=this,n=a.dataStorage.get(e,`click/preventevent/${t.ns}`);e.removeEventListener("click",n);const s=a.dataStorage.get(e,`off/preventevent/${t.ns}`);e.removeEventListener(`off.${t._componentNs}`,s)}_eventPreventeventHandler({el:e},t){const n=this,s=a.dataStorage.get(e,`active/preventevent/${n.ns}`);t.key&&t.key!=="Enter"||(!s&&!a.dataStorage.get(e,`${n.ns}PreventeventDone`)?(a.dataStorage.set(e,`${n.ns}PreventeventDone`,!0),t.preventDefault()):(n._eventPreventeventEndHandler({el:e}),a.dataStorage.remove(e,`${n.ns}PreventeventDone`),a.dataStorage.remove(e,`active/preventevent/${n.ns}`)))}_eventPreventeventResetHandler({el:e}={}){const t=this;t._eventPreventeventEndHandler({el:e}),a.dataStorage.remove(e,`${t.ns}PreventeventDone`),a.dataStorage.remove(e,`active/preventevent/${t.ns}`)}_hashChange({save:e=!1}={}){const t=this,n=t.options;let s=0;const r=[];if(t.disabled)return{currents:s,arr:r};if(t._hasHash&&!a.dataStorage.get(t.container,`${t.ns}HashSkip`)){const o=decodeURI(location.hash.split("#")[1]);if(o){const c=(l,f)=>l.getAttribute(n.hash)===f;for(const l of t.elements){let f=!1;e&&(f=c(l,o));const h=t.getTargets({el:l});for(const v of h)e&&!f&&(f=c(v,o));if(f&&s<n.max){if(s++,r.push(l),a.dataStorage.set(t.container,`${t.ns}HashSkip`,!0),n.on){const v=n.on.split(" ")[0];l.dispatchEvent(new CustomEvent(v,{detail:{force:!0}}))}else t._eventOn({el:l,force:!0});a.dataStorage.set(t.container,`${t.ns}HashSkip`,!1)}}}}return{currents:s,arr:r}}_eventJumpHandler({el:e},t){const n=this;n.disabled||n.targets.includes(e)&&n._eventJump({el:e},t)}_eventNavHandler({el:e},t){this._eventNav({el:e},t)}_eventCloseautoHandler(e){var n,s;const t=this;if(!((n=e==null?void 0:e.detail)!=null&&n.container)||((s=e==null?void 0:e.detail)==null?void 0:s.container.contains(t.container))){const r=t._getCurrents();for(const o of r)t._eventOff({el:o,force:!0},e)}}_eventOpenautoHandler(e){const t=this;let n;for(const s of Array.from(t.elements).filter(r=>r.contains(e.target))){n=s;break}if(!n)for(const s of Array.from(t.targets).filter(r=>r.contains(e.target))){n=s;break}n&&t._eventOn({el:n},e)}_eventMedialoadedHandler({img:e,el:t,deferred:n=!1,reinit:s=!1}={}){const r=this,o=r.options;a.dataStorage.set(e,`${r.ns}MedialoadedDone`,!0),o.mediaLoadedReinit&&n&&s&&(clearTimeout(a.dataStorage.get(r.container,`${r.ns}MedialoadedTimeout`)),a.dataStorage.set(r.container,`${r.ns}MedialoadedTimeout`,setTimeout(()=>{r._eventMediaLoadedReinit()},a.medialoadedDelay))),o.mediaLoaded&&t.classList.add("xt-medialoaded"),t.dispatchEvent(new CustomEvent(`medialoaded.${r._componentNs}`,{detail:{deferred:n}}))}getElementsGroups(){const e=this,t=[];for(const n of e.elements){const s=n.getAttribute("data-xt-group");s&&t.filter(o=>o.getAttribute("data-xt-group")===s).length||t.push(n)}return t}_groupFilter({els:e,attr:t,some:n=!1,same:s=!1}={}){const o=this.options,c=[];for(const l of e){let f=l.getAttribute("data-xt-group");if(s){const h=l.getAttribute("data-xt-group-same");h&&(f+=o.groupSeparator+h)}if(f===t){c.push(l);continue}if(n){const h=t==null?void 0:t.split(o.groupSeparator).filter(E=>E),v=f==null?void 0:f.split(o.groupSeparator).filter(E=>E);v&&h&&v.some(E=>h.includes(E))&&c.push(l)}}return c}getElements({el:e,same:t=!1}={}){const n=this,s=n.options;if(!n.elements||!n.elements.length)return[];if(e){if(n._mode==="unique"){const r=[],o=a.dataStorage.get(n.ns,"xtNamespace");if(o){for(const c of o)r.push(...c.elements);return r}return[]}else if(n._mode==="multiple"){let r,o=e.getAttribute("data-xt-group");if(t){const h=e.getAttribute("data-xt-group-same");h&&(o+=s.groupSeparator+h)}const c=!n.elements.includes(e),l=n._groupFilter({els:n.elements,attr:o,some:c,same:t}),f=n._groupFilter({els:n.targets,attr:o,some:c,same:t});if(o)r=l;else if(Array.from(n.elements).includes(e))r=[e].filter(h=>h);else{const h=f.findIndex(v=>v===e);r=[l[h]].filter(v=>v)}return r}}else return[]}getTargets({el:e,same:t=!1}={}){const n=this,s=n.options;if(!n.targets||!n.targets.length)return[];if(e){if(n._mode==="unique")return n.targets;if(n._mode==="multiple"){let r,o=e.getAttribute("data-xt-group");if(t){const h=e.getAttribute("data-xt-group-same");h&&(o+=s.groupSeparator+h)}const c=!n.targets.includes(e),l=n._groupFilter({els:n.elements,attr:o,some:c,same:t}),f=n._groupFilter({els:n.targets,attr:o,some:c,same:t});if(o)r=f;else if(Array.from(n.targets).includes(e))r=[e].filter(h=>h);else{const h=l.findIndex(v=>v===e);r=[f[h]].filter(v=>v)}return r}}else return[]}_getElementsInner({els:e}={}){const t=this,n=t.options;let s=[];if(n.elementsInner)for(const r of e){const o=a.dataStorage.get(r,`elementsInner/${t.ns}`);o.length&&(s=s.concat(o))}return s}_getTargetsInner({els:e}={}){const t=this,n=t.options;let s=[];if(n.targetsInner)for(const r of e){const o=a.dataStorage.get(r,`targetsInner/${t.ns}`);o.length&&(s=s.concat(o))}return s}_getEventParent({el:e,event:t}={}){const s=this.options;return s.mouseParent&&["mouseenter","mouseleave","mousehover","mouseout"].includes(t)?typeof s.mouseParent=="string"?e.closest(s.mouseParent):e.parentNode:e}_getCurrents(){const e=this;return a._currents[e.ns]}_setCurrents(e){const t=this;a._currents[t.ns]=e}_addCurrent({el:e,running:t=!1}={}){const n=this;n.hasCurrent({el:e,running:t})||(t?a._running:a._currents)[n.ns].push(e)}_removeCurrent({el:e,running:t=!1}={}){const n=this,s=t?a._running:a._currents;s[n.ns]=s[n.ns].filter(r=>r!==e)}hasCurrent({el:e,same:t=!1,running:n=!1}={}){const s=this,o=s.options.groupElements||s.targets.includes(e)?s.getElements({el:e,same:t}):[e];return(n?a._running:a._currents)[s.ns].filter(l=>o.includes(l)).length}_checkOn({el:e}={}){return!this.hasCurrent({el:e})}_checkOff({el:e}={}){const t=this;return t.options.min-t._getCurrents().length>=0?!1:t.hasCurrent({el:e})}_checkOnRunning({obj:e}={}){const t=this,n=e.elements.runningOn||!t.hasCurrent({el:e.elements.queueEls[0],running:!0});return e.elements.runningOn=n,n}_checkOffRunning({obj:e}={}){const t=this,n=e.elements.runningOff||t.hasCurrent({el:e.elements.queueEls[0],running:!0});return e.elements.runningOff=n,n}_setIndex({el:e}={}){var s;const t=this,n=t.getIndex({el:e});t._oldIndex=(s=t.index)!=null?s:n,t.index=n}getIndex({el:e}={}){const t=this;e=t.getElements({el:e})[0];let n=null;for(const[s,r]of t.getElementsGroups().entries())if(e===r){n=s;break}return n}_setDirection(){const e=this;e.index===null||e.index===e._oldIndex?e.direction=0:e._inverse!==null?e.direction=e._inverse?-1:1:e.direction=e.index<e._oldIndex?-1:1}_activate({el:e,type:t,skipSame:n}={}){const s=this,r=s.options;!n&&r.classSkip!==!0&&!r.classSkip[t]&&(e.checked=!0,e.classList.add(...s._classes),e.classList.remove(...s._classesOut),a.frameDouble({el:e,func:()=>{e.classList.add(...s._classesIn),e.classList.remove(...s._classesDone)}}),e.classList.remove(...s._classesBefore,...s._classesAfter),s.direction<0?e.classList.add(...s._classesBefore):s.direction>0&&e.classList.add(...s._classesAfter))}_activateDone({el:e,type:t,skipSame:n}={}){const s=this,r=s.options;!n&&r.classSkip!==!0&&!r.classSkip[t]&&(a.frameDouble({el:e}),e.classList.add(...s._classesIn,...s._classesDone))}_activateHash({obj:e,el:t,type:n}={}){const s=this,r=s.options;if(!a.dataStorage.get(s.container,`${s.ns}HashSkip`)&&s._hasHash&&!s.initial){const o=e.elements.queueEls[0];if(n==="elements"&&s.getElements({el:o}).includes(t)||n==="targets"&&s.getTargets({el:o}).includes(t)){const c=t.getAttribute(r.hash);c&&a.frame({el:window,ns:`${s.ns}Hash`,func:()=>{a.dataStorage.set(s.container,`${s.ns}HashSkip`,!0),history.pushState({},"",`#${encodeURIComponent(c)}`),a.dataStorage.set(s.container,`${s.ns}HashSkip`,!1)}})}}}_deactivate({el:e,type:t,skipSame:n}={}){const s=this,r=s.options;!n&&r.classSkip!==!0&&!r.classSkip[t]&&(e.checked=!1,e.classList.remove(...s._classes),a.frameDouble({el:e,func:()=>{e.classList.remove(...s._classesIn,...s._classesDone),e.classList.add(...s._classesOut)}}),e.classList.remove(...s._classesBefore,...s._classesAfter),s.direction<0?e.classList.add(...s._classesBefore):s.direction>0&&e.classList.add(...s._classesAfter))}_deactivateDone({el:e,type:t,skipSame:n}={}){const s=this,r=s.options;!n&&r.classSkip!==!0&&!r.classSkip[t]&&(a.frameDouble({el:e}),e.classList.remove(...s._classesIn,...s._classesOut))}_deactivateHash({obj:e,el:t,type:n}={}){const s=this,r=s.options;if(!a.dataStorage.get(s.container,`${s.ns}HashSkip`)&&r.hash&&s._hasHash&&!s.initial){const o=e.elements.queueEls[0];if(n==="elements"&&s.getElements({el:o}).includes(t)||n==="targets"&&s.getTargets({el:o}).includes(t)){const c=t.getAttribute(r.hash);c&&c===location.hash.split("#")[1]&&a.frame({el:window,ns:`${s.ns}Hash`,func:()=>{a.dataStorage.set(s.container,`${s.ns}HashSkip`,!0),history.pushState({},"","#"),a.dataStorage.set(s.container,`${s.ns}HashSkip`,!1)}})}}}_eventOn({el:e,force:t=!1,focus:n=!1},s){var c,l;const r=this,o=r.options;if(t=t||((c=s==null?void 0:s.detail)==null?void 0:c.force),r.disabled&&!t)return!1;if(t||r._checkOn({el:e})){r._eventAutostop();const f=o.groupElements||r.targets.includes(e)?r.getElements({el:e,same:!0}):[e];e=f[0];const h=r.getTargets({el:e,same:!0}),v=r._getElementsInner({els:f}),E=r._getTargetsInner({els:h});r._addCurrent({el:e}),r._setIndex({el:e}),r._setDirection();const w="In",$="Out";let N=r._eventQueue({elements:f,targets:h,elementsInner:v,targetsInner:E,force:t,e:s});const O=r._getCurrents();if(O.length>o.max){const k=r._eventOff({el:O[0],objFilter:N});!o.queue&&(k==null?void 0:k.obj)&&(N=k.obj)}o.queue?r[`_queue${w}`].unshift(N):r[`_queue${w}`]=[N];for(const k in r[`_queue${w}`][0])r._queueStart({actionCurrent:w,actionOther:$,type:k,index:0});return n&&(e=(l=v[0])!=null?l:e,e.focus()),!0}else o.off&&[...o.off.split(" ")].includes(s==null?void 0:s.type)&&r._eventOff({el:e},s);return!1}_eventOff({el:e,force:t=!1,focus:n=!1,objFilter:s}={},r){var l,f;const o=this,c=o.options;if(t=t||((l=r==null?void 0:r.detail)==null?void 0:l.force),o.disabled&&!t)return!1;if(t||o._checkOff({el:e})){const h=c.groupElements||o.targets.includes(e)?o.getElements({el:e,same:!0}):[e];e=h[0],o._removeCurrent({el:e});const v=o.getTargets({el:e,same:!0}),E=o._getElementsInner({els:h}),w=o._getTargetsInner({els:v});o._getCurrents().length||o._eventAutostop();const $="Out",N="In",O=o._eventQueue({elements:h,targets:v,elementsInner:E,targetsInner:w,force:t,e:r});if(c.groupSame&&!c.queue&&s)for(const k in O){const H=O[k];if(H.queueEls){const q=s[k],F=H.queueEls.filter(P=>!q.queueEls.includes(P));q.skipEls=q.queueEls.filter(P=>H.queueEls.includes(P)),H.queueEls=F}}if(c.queue?o[`_queue${$}`].unshift(O):o[`_queue${$}`]=[O],o[`_queue${$}`].length>c.max){const k=o[`_queue${N}`].shift();o._queueStop({actionCurrent:N,actionOther:$,obj:k});const H=o[`_queue${$}`].shift();o._queueStop({actionCurrent:$,actionOther:N,obj:H})}for(const k in o[`_queue${$}`][0])o._queueStart({actionCurrent:$,actionOther:N,type:k,index:0});return n&&(e=(f=E[0])!=null?f:e,e.focus()),s?{obj:s}:!0}return!1}_eventQueue({elements:e,targets:t,elementsInner:n,targetsInner:s,force:r,e:o}={}){const c={};return c.elements={queueEls:e,force:r,e:o},t.length&&(c.targets={queueEls:t}),n.length&&(c.elementsInner={queueEls:n}),s.length&&(c.targetsInner={queueEls:s}),c}_eventAuto(){const e=this,t=e.options;e.disabled||!e._autoblock&&e._autorunning&&a.visible({el:e.container})&&(t.auto.inverse?e.goToPrev({amount:t.auto.step,loop:t.auto.loop}):e.goToNext({amount:t.auto.step,loop:t.auto.loop}))}_eventAutostart(){const e=this,t=e.options;if(!e.disabled&&t.auto&&t.auto.time&&a.autoTimescale&&!e._autoblock&&!e._autorunning&&e.index!==null&&(!e.initial||t.auto.initial)){e._autorunning=!0,clearTimeout(a.dataStorage.get(e.container,`${e.ns}AutoTimeout`));const n=t.auto.time;if(e.disabled)return;a.dataStorage.set(e.container,`${e.ns}AutoTimeout`,setTimeout(()=>{e._eventAuto()},n/a.autoTimescale)),e.container.dispatchEvent(new CustomEvent(`autostart.${e._componentNs}`))}}_eventAutostop(){const e=this,t=e.options;t.auto&&t.auto.time&&!e._autoblock&&e._autorunning&&(e._autorunning=!1,clearTimeout(a.dataStorage.get(e.container,`${e.ns}AutoTimeout`)),e.container.dispatchEvent(new CustomEvent(`autostop.${e._componentNs}`)))}_eventJump({el:e},t){const n=this;n.disabled||e.classList.contains(...n._classes)||!e.classList.contains("xt-jump")||(t.preventDefault(),n._checkOn({el:e})&&n._eventOn({el:e}))}_eventNav({el:e}={}){const t=this;if(t.disabled)return;const n=parseFloat(e.getAttribute("data-xt-nav"));n<0?t.goToPrev({amount:-n}):t.goToNext({amount:n})}_eventMediaLoadedReinit(){this.reinit()}_eventVisibleReinit(){this.reinit()}_queueStart({actionCurrent:e,actionOther:t,type:n,index:s}={}){const r=this,o=r.options,c=r[`_queue${e}`][s];if(c&&c[n]&&!c[n].done){const l=r[`_queue${t}`],f=l[l.length-1];(!f||!f[n]||f[n].done)&&(r.initial||!o.queue?c[n].instant=!0:o.queue&&!o.queue[n]&&(c[n].instantType=!0),r._specialClassBody({actionCurrent:e,type:n}),r._queueDelay({actionCurrent:e,actionOther:t,obj:c,type:n}))}}_queueStop({actionCurrent:e,actionOther:t,obj:n}={}){const s=this;for(const r in n)if(n[r].done)for(const o of n[r].queueEls)a.frameDouble({el:o,ns:`${s.ns}CollapseHeightFrame`}),a.frameDouble({el:o,ns:`${s.ns}CollapseWidthFrame`}),clearTimeout(a.dataStorage.get(o,`${s.ns+r}DelayTimeout`)),clearTimeout(a.dataStorage.get(o,`${s.ns+r}AnimTimeout`)),s._queueDelayDone({actionCurrent:t,actionOther:e,obj:n,el:o,type:r,skipQueue:!0}),s._queueAnimDone({actionCurrent:t,actionOther:e,obj:n,el:o,type:r,skipQueue:!0})}_queueDelay({actionCurrent:e,actionOther:t,obj:n,type:s}={}){var l;const r=this,o=r.options,c=n[s].queueEls;for(const f of c){const h=(l=n[s].skipEls)==null?void 0:l.includes(f);let v=r.initial||r.disabled?!1:a.delayTime({el:f,duration:o.delay||o[`delay${e}`],actionCurrent:e});if(v&&typeof v=="function"){const E=a.dataStorage.get(f,`${r.ns+e}Count`)||c.findIndex($=>$===f),w=a.dataStorage.get(f,`${r.ns+e}Tot`)||c.length;v=v({current:E,total:w-1,el:f,self:r})}clearTimeout(a.dataStorage.get(f,`${r.ns+s}DelayTimeout`)),clearTimeout(a.dataStorage.get(f,`${r.ns+s}AnimTimeout`)),v?v==="raf"?a.frameDouble({el:f,ns:`${r.ns+s}QueueDelayDone`,func:()=>{r._queueDelayDone({actionCurrent:e,actionOther:t,obj:n,el:f,type:s,skipSame:h})}}):a.dataStorage.set(f,`${r.ns+s}DelayTimeout`,setTimeout(()=>{r._queueDelayDone({actionCurrent:e,actionOther:t,obj:n,el:f,type:s,skipSame:h})},v)):r._queueDelayDone({actionCurrent:e,actionOther:t,obj:n,el:f,type:s,skipSame:h}),n[s].instant&&f===c[c.length-1]&&r._queueDone({actionCurrent:e,actionOther:t,obj:n,type:s})}c.length||r._queueDone({actionCurrent:e,actionOther:t,obj:n,type:s})}_queueDelayDone({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o,skipQueue:c=!1}={}){const l=this;if(e==="In"&&(l._checkOnRunning({obj:n})||n.elements.force)?(r==="elements"&&s===n.elements.queueEls[0]&&l._addCurrent({el:s,running:!0}),l._activate({el:s,type:r}),l._activateHash({obj:n,el:s,type:r}),l._specialZindex({actionCurrent:e,obj:n,el:s,type:r}),l._specialAppendto({actionCurrent:e,el:s,type:r}),l._specialClose({actionCurrent:e,el:s,type:r,obj:n}),l.initial?l._specialCollapse({actionCurrent:e,el:s,type:r,reset:!0}):l._specialCollapse({actionCurrent:e,el:s,type:r}),!o&&r!=="elementsInner"&&r!=="targetsInner"&&(l.disabled||a.frame({el:s,ns:`${l.ns}${e}DelayDone`,func:()=>{s.dispatchEvent(new CustomEvent(`on.${l._componentNs}`,{detail:n.elements.e}))}}))):e==="Out"&&(l._checkOffRunning({obj:n})||n.elements.force)&&(r==="elements"&&s===n.elements.queueEls[0]&&(l._removeCurrent({el:s,running:!0}),l._getCurrents().length||(l.index=null,l._setDirection())),l._deactivate({el:s,type:r}),l._deactivateHash({obj:n,el:s,type:r}),l._specialCollapse({actionCurrent:e,el:s,type:r}),l._specialClose({actionCurrent:e,el:s,type:r,obj:n}),!o&&r!=="elementsInner"&&r!=="targetsInner"&&(l.disabled||a.frame({el:s,ns:`${l.ns}${e}DelayDone`,func:()=>{s.dispatchEvent(new CustomEvent(`off.${l._componentNs}`,{detail:n.elements.e}))}}))),!c&&(l.disabled?(a.frame({el:s,ns:`${l.ns+r}QueueAnim`}),l._queueAnim({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o})):a.frame({el:s,ns:`${l.ns+r}QueueAnim`,func:()=>{l._queueAnim({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o})}}),!n[r].instant&&n[r].instantType)){const f=n[r].queueEls;s===f[f.length-1]&&l._queueDone({actionCurrent:e,actionOther:t,obj:n,type:r})}}_queueAnim({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o}={}){const c=this,l=c.options,f=n[r].queueEls;let h=c.initial||c.disabled?!1:a.animTime({el:s,duration:l.duration||l[`duration${e}`],actionCurrent:e});if(h&&typeof h=="function"){const v=a.dataStorage.get(s,`${c.ns+e}Count`)||f.findIndex(w=>w===s),E=a.dataStorage.get(s,`${c.ns+e}Tot`)||f.length;h=h({current:v,total:E-1,el:s,self:c})}clearTimeout(a.dataStorage.get(s,`${c.ns+r}AnimTimeout`)),h?h==="raf"?a.frameDouble({el:s,ns:`${c.ns+r}QueueAnimDone`,func:()=>{c._queueAnimDone({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o})}}):a.dataStorage.set(s,`${c.ns+r}AnimTimeout`,setTimeout(()=>{c._queueAnimDone({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o})},h)):c._queueAnimDone({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o})}_queueAnimDone({actionCurrent:e,actionOther:t,obj:n,el:s,type:r,skipSame:o,skipQueue:c=!1}={}){const l=this;if(e==="In"){if(r==="elements"&&s===n.elements.queueEls[0]&&!l[`_queue${t}`].length)for(const f in n)l._specialZindex({actionCurrent:t,obj:n,type:f});l._activateDone({el:s,type:r}),l._specialCollapse({actionCurrent:e,el:s,type:r,reset:!0}),l._specialScrollto({actionCurrent:e,el:s,type:r,obj:n}),!o&&r!=="elementsInner"&&r!=="targetsInner"&&(l.disabled||a.frame({el:s,ns:`${l.ns}${e}AnimDone`,func:()=>{s.dispatchEvent(new CustomEvent(`ondone.${l._componentNs}`,{detail:n.elements.e}))}}))}else if(e==="Out"){if(r==="elements"&&s===n.elements.queueEls[0]&&!l._getCurrents().length)for(const f in n)l._specialZindex({actionCurrent:e,obj:n,type:f});l._deactivateDone({el:s,type:r}),l._specialAppendto({actionCurrent:e,el:s,type:r}),l._specialCollapse({actionCurrent:e,el:s,type:r,reset:!0}),!o&&r!=="elementsInner"&&r!=="targetsInner"&&(l.disabled||a.frame({el:s,ns:`${l.ns}${e}AnimDone`,func:()=>{s.dispatchEvent(new CustomEvent(`offdone.${l._componentNs}`,{detail:n.elements.e}))}}))}if(!c&&!n[r].instant&&!n[r].instantType){const f=n[r].queueEls;s===f[f.length-1]&&l._queueDone({actionCurrent:e,actionOther:t,obj:n,type:r})}}_queueDone({actionCurrent:e,actionOther:t,obj:n,type:s}={}){const r=this;if(n[s]){n[s].done=!0;let o=0;for(const c in n)n[c].done&&o++;if(o===Object.entries(n).length){for(const c in n)r._queueStart({actionCurrent:t,actionOther:e,type:c,index:r[`_queue${t}`].length-1});r[`_queue${e}`].pop(),r._queueComplete({actionCurrent:e,obj:n})}}}_queueComplete({actionCurrent:e,obj:t}={}){const n=this,s=n.options;if(e==="In"){if(a.frameDouble({el:n.container,ns:`${n.ns}Init`,func:()=>{if(n.initial){n.container.setAttribute(`data-${n.componentName}-init`,""),n.container.dispatchEvent(new CustomEvent(`init.${n._componentNs}`));for(const r in t)for(const o of t[r].queueEls)o.classList.remove(...n._classesInitial);s.debug&&console.debug(`${n.componentName} init`,n)}n._eventAutostart(),n.initial&&(n.initial=!1),n._inverse=null}}),s.focusLimit&&!n._focusTrap){const r=n.targets.length?n.targets:n.elements;n._focusTrap=he(r,s.focusTrap),n._focusTrap.activate()}}else e==="Out"&&s.focusLimit&&n._focusTrap&&(n._focusTrap.deactivate(),n._focusTrap=null)}_specialZindex({actionCurrent:e,obj:t,el:n,type:s}={}){const r=this,o=r.options;if(!r.targets.length&&s==="elements"&&(s="targets"),o.zIndex&&o.zIndex[s]){if(e==="In")r.zIndex=r.zIndex?r.zIndex:o.zIndex[s].start,r.zIndex=r.zIndex+o.zIndex[s].factor,n.style.zIndex=r.zIndex;else if(e==="Out"&&(r.zIndex=o.zIndex[s].start,t[s]))for(const c of t[s].queueEls)c.style.zIndex=r.zIndex}}_specialClassBody({actionCurrent:e,type:t}={}){const n=this,s=n.options;s.classBody&&(t==="targets"||!n.targets.length&&t==="elements")&&(e==="In"?a.frame({el:n.container,ns:`${n.ns}ClassBodyFrame`,func:()=>{for(const r of s.classBody.split(" "))a._classBody.add({c:r,ns:n.ns}),document.documentElement.querySelector("body").classList.add(r)}}):e==="Out"&&a.frame({el:n.container,ns:`${n.ns}ClassBodyFrame`,func:()=>{for(const r of s.classBody.split(" "))a._classBody.remove({c:r,ns:n.ns}),a._classBody.get({c:r}).length||document.documentElement.querySelector("body").classList.remove(r)}}))}_specialAppendto({actionCurrent:e,el:t,type:n}={}){const s=this,r=s.options;if(r.appendTo&&(n==="targets"||!s.targets.length&&n==="elements")){if(e==="In"){const o=document.querySelector(r.appendTo);document.querySelector(`[data-xt-origin="${s.ns}"]`)||t.before(a.node({str:`<div class="xt-ignore hidden" data-xt-origin="${s.ns}"></div>`})),o.append(t)}else if(e==="Out"){const o=document.querySelector(`[data-xt-origin="${s.ns}"]`);o?(o.before(t),o.remove()):t.remove()}}}_specialScrollto({actionCurrent:e,obj:t,el:n,type:s}={}){const r=this,o=r.options;if(o.scrollto&&e==="In"){const c=({el:l})=>{if(!r.initial||o.scrolltoInit){const f=r.initial;a.ready({state:"complete",func:()=>{requestAnimationFrame(()=>{f&&(a.scrolltoHashforce=!0),l.dispatchEvent(new CustomEvent("scrollto.trigger.xt.scrollto"))})}})}};if(typeof o.scrollto=="string"){if(s===o.scrollto)c({el:n});else if(s==="elements"&&n===t.elements.queueEls[0]){let l=r.container.querySelector(o.scrollto);l=l!=null?l:document.querySelector(o.scrollto),l&&c({el:l})}}else s==="elements"&&n===t.elements.queueEls[0]&&c({el:r.container})}}_specialCollapse({actionCurrent:e,el:t,type:n,reset:s=!1}={}){const r=this,o=r.options;if(o.collapseHeight){if(e==="In"){if(o.collapseHeight===n)if(s)t.style.height="inherit",t.style.maxHeight="none",t.classList.add("xt-collapse-reset"),a.frameDouble({el:t,ns:`${r.ns}CollapseHeightFrame`});else{t.classList.remove("xt-collapse-reset"),t.style.height="auto",t.style.maxHeight="none";const c=t.offsetHeight;t.style.height="",t.style.maxHeight="";let l=t.offsetHeight;l=l===c?0:l,t.style.height=`${l}px`,t.style.maxHeight="none",a.frameDouble({el:t,ns:`${r.ns}CollapseHeightFrame`,func:()=>{t.style.height=`${c}px`}})}}else if(e==="Out"&&o.collapseHeight===n)if(s)t.style.height="",t.style.maxHeight="",a.frameDouble({el:t,ns:`${r.ns}CollapseHeightFrame`});else{t.classList.remove("xt-collapse-reset");const c=t.offsetHeight;t.style.height="",t.style.maxHeight="";let l=t.offsetHeight;t.style.height="auto",t.style.maxHeight="none",l=t.offsetHeight===l?0:l,t.style.height=`${c}px`,a.frameDouble({el:t,ns:`${r.ns}CollapseHeightFrame`,func:()=>{t.style.height=`${l}px`}})}}if(o.collapseWidth){if(e==="In"){if(o.collapseWidth===n)if(s)t.style.width="inherit",t.style.maxWidth="none",t.classList.add("xt-collapse-reset"),a.frameDouble({el:t,ns:`${r.ns}CollapseWidthFrame`});else{t.classList.remove("xt-collapse-reset"),t.style.width="auto",t.style.maxWidth="none";const c=t.offsetWidth;t.style.width="",t.style.maxWidth="";let l=t.offsetWidth;l=l===c?0:l,t.style.width=`${l}px`,t.style.maxWidth="none",a.frameDouble({el:t,ns:`${r.ns}CollapseWidthFrame`,func:()=>{t.style.width=`${c}px`}})}}else if(e==="Out"&&o.collapseWidth===n)if(s)t.style.width="",t.style.maxWidth="",a.frameDouble({el:t,ns:`${r.ns}CollapseWidthFrame`});else{t.classList.remove("xt-collapse-reset");const c=t.offsetWidth;t.style.width="",t.style.maxWidth="";let l=t.offsetWidth;t.style.width="auto",t.style.maxWidth="none",l=t.offsetWidth===l?0:l,t.style.width=`${c}px`,a.frameDouble({el:t,ns:`${r.ns}CollapseWidthFrame`,func:()=>{t.style.width=`${l}px`}})}}}_specialClose({actionCurrent:e,el:t,type:n,obj:s}={}){const r=this,o=r.options;if(e==="In"){if(o.closeInside&&(n==="elements"||n==="targets")){const c=t,l=a.dataStorage.put(c,`click/close/${r.ns}`,r._eventSpecialcloseinsideHandler.bind(r));requestAnimationFrame(()=>{c.removeEventListener("click",l),c.addEventListener("click",l)})}if(o.closeOutside&&n==="elements"&&t===s.elements.queueEls[0]){const c=document.querySelectorAll(o.closeOutside);for(const l of c){const f=a.dataStorage.put(l,`mousedown/close/${r.ns}`,r._eventSpecialcloseoutsideHandler.bind(r));requestAnimationFrame(()=>{l.removeEventListener("mousedown",f),l.addEventListener("mousedown",f)})}}if(o.closeDeep&&(n==="targets"||!r.targets.length&&n==="elements")){const c=t.querySelectorAll(o.closeDeep);for(const l of c){const f=a.dataStorage.put(l,`click/close/${r.ns}`,r._eventSpecialclosedeepHandler.bind(r));requestAnimationFrame(()=>{l.removeEventListener("click",f),l.addEventListener("click",f)});const h=a.dataStorage.put(l,`keydown/close/${r.ns}`,r._eventSpecialclosedeepKeydownHandler.bind(r).bind(r,{closeElement:l}));requestAnimationFrame(()=>{l.addEventListener("keydown",h),l.setAttribute("tabindex","0"),l.setAttribute("role","button")})}}}else if(e==="Out"){if(o.closeInside&&(n==="elements"||n==="targets")){const c=t,l=a.dataStorage.get(c,`click/close/${r.ns}`);c.removeEventListener("click",l)}if(o.closeOutside&&n==="elements"&&t===s.elements.queueEls[0]){const c=document.querySelectorAll(o.closeOutside);for(const l of c){const f=a.dataStorage.get(l,`mousedown/close/${r.ns}`);l.removeEventListener("mousedown",f)}}if(o.closeDeep&&(n==="targets"||!r.targets.length&&n==="elements")){const c=t.querySelectorAll(o.closeDeep);for(const l of c){const f=a.dataStorage.get(l,`click/close/${r.ns}`);l.removeEventListener("click",f);const h=a.dataStorage.get(l,`keydown/close/${r.ns}`);l.removeEventListener("keydown",h),l.removeAttribute("tabindex"),l.removeAttribute("role")}}}}_eventSpecialcloseinsideHandler(e){const t=this,n=t.options;if(e.target.matches(n.closeInside)){const s=t._getCurrents();for(const r of s)t._eventOff({el:r,force:!0})}}_eventSpecialcloseoutsideHandler(e){const t=this;if(!a.contains({els:[...t.elements,...t.targets],tr:e.target})){const n=t._getCurrents();for(const s of n)t._eventOff({el:s,force:!0})}}_eventSpecialclosedeepHandler(e){const t=this;if(a.contains({els:[...t.elements,...t.targets],tr:e.target})){const n=t._getCurrents();for(const s of n)t._eventOff({el:s,force:!0})}}_eventSpecialclosedeepKeydownHandler({closeElement:e},t){const n=t.key;(n==="Enter"||n===" ")&&(t.preventDefault(),e.dispatchEvent(new CustomEvent("click")))}getNextIndex({index:e=!1,amount:t=1,loop:n=null}={}){const s=this;return e!==!1?e=e+t:s.index!==null?e=s.index+t:e=0,s.getNumIndex({index:e,loop:n})}getNext({amount:e=1,loop:t=null}={}){const n=this,s=n.getNextIndex({amount:e,loop:t});return n.getElementsGroups()[s]}goToNext({amount:e=1,force:t=!1,loop:n=null}={}){const s=this;s._inverse=!1;const r=s.getNextIndex({amount:e,loop:n});return s.goToNum({index:r,force:t,loop:n})}getPrevIndex({index:e=!1,amount:t=1,loop:n=null}={}){const s=this;return e!==!1?e=e-t:s.index!==null?e=s.index-t:e=s.getElementsGroups().length-1,s.getNumIndex({index:e,loop:n})}getPrev({amount:e=1,loop:t=null}={}){const n=this,s=n.getPrevIndex({amount:e,loop:t});return n.getElementsGroups()[s]}goToPrev({amount:e=1,force:t=!1,loop:n=null}={}){const s=this;s._inverse=!0;const r=s.getPrevIndex({amount:e,loop:n});return s.goToNum({index:r,force:t,loop:n})}getNumIndex({index:e,loop:t=null}={}){const n=this,s=n.options,r=0,o=n.getElementsGroups().length-1;return r===o?e=null:e>o?t||t===null&&(s.loop||n._wrap)?(e=e-o-1,e=e>o?o:e):e=null:e<r&&(t||t==null&&(s.loop||n._wrap)?(e=e+o+1,e=e<r?r:e):e=null),e}getNum({index:e=1,loop:t=null}={}){const n=this,s=n.getNumIndex({index:e,loop:t});return n.getElementsGroups()[s]}goToNum({index:e,force:t=!1,loop:n=null}={}){const s=this,r=s.getNum({index:e,loop:n});return r&&s._eventOn({el:r,force:t}),r}enable(){const e=this;if(e.disabled){e.disabled=!1,e.container.removeAttribute(`data-${e.componentName}-disabled`);for(const t of e.elements)t.removeAttribute(`data-${e.componentName}-disabled`);for(const t of e.targets)t.removeAttribute(`data-${e.componentName}-disabled`);e.container.dispatchEvent(new CustomEvent(`status.${e._componentNs}`))}}disable({skipEvent:e=!1}={}){const t=this,n=t.options;if(!t.disabled){if(t.disabled=!0,n.disableDeactivate)for(const s of t.elements.filter(r=>t.hasCurrent({el:r})))t._eventOff({el:s,force:!0});t.container.setAttribute(`data-${t.componentName}-disabled`,"");for(const s of t.elements)s.setAttribute(`data-${t.componentName}-disabled`,"");for(const s of t.targets)s.setAttribute(`data-${t.componentName}-disabled`,"");if(n.jump)for(const s of t.targets)s.classList.remove("xt-jump");t._observer&&(t._observer.disconnect(),t._observer=null),clearTimeout(a.dataStorage.get(t.container,`${t.ns}AutoTimeout`)),e||t.container.dispatchEvent(new CustomEvent(`status.${t._componentNs}`))}}_initA11y(){const e=this;if(e.options.a11y){let n=e.elements,s=e.targets;e.targets.length||(n=[],s=e.elements),e._hasContainer=!(e._mode==="unique"||e.elements.includes(e.container)),e._initA11yRole({els:n,trs:s}),e._initA11yId({els:n,trs:s}),e._initA11ySetup(),e._initA11yAuto(),e._initA11yChange(),e._initA11yStatus({els:n}),e._initA11yKeyboard({els:e.elements})}}_initA11yRole({els:e,trs:t}={}){const n=this,s=n.options;if(s.a11y.role){let r=!1;if(s.a11y.vertical&&n._hasContainer&&n.container.setAttribute("aria-orientation","vertical"),s.a11y.role==="popup")for(const o of e)o.setAttribute("aria-haspopup",!0);else if(s.a11y.role==="dialog"){for(const o of e)o.setAttribute("aria-haspopup","dialog");for(const o of t)o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true")}else if(s.a11y.role==="tooltip")for(const o of t)o.setAttribute("role","tooltip");else if(s.a11y.role==="carousel"&&n._hasContainer){n.container.setAttribute("role","group"),n.container.setAttribute("aria-roledescription","carousel");for(const o of t)o.setAttribute("role","group"),o.setAttribute("aria-roledescription","slide")}else if(s.a11y.role==="tablist"&&n._hasContainer&&n.targets.length){r=!0,n.container.setAttribute("role","tablist");for(const o of e)o.setAttribute("role","tab");for(const o of t)o.setAttribute("role","tabpanel")}else if(s.a11y.role==="menu"&&n._hasContainer&&n.targets.length){n.container.setAttribute("role","menu");for(const o of e)o.setAttribute("role","menuitem");for(const o of t)o.setAttribute("role","menu")}else if(s.a11y.role==="listbox"&&n._hasContainer&&n.targets.length){r=!0,n.container.setAttribute("role","listbox");for(const o of e)o.setAttribute("role","option")}r&&s.max>1&&n.container.setAttribute("aria-multiselectable","true")}}_initA11yId({els:e,trs:t}={}){const n=this,s=n.options;if(n.targets.length){if(s.a11y.labelElements||s.a11y.controls)for(const r of t)r.getAttribute("id")||r.setAttribute("id",a.uniqueId());if(s.a11y.labelTargets)for(const r of e)r.getAttribute("id")||r.setAttribute("id",a.uniqueId())}}_initA11ySetup(){const e=this,t=e.options;if(e.targets.length){if(t.a11y.labelElements||t.a11y.controls)for(const n of e.elements){const s=e.getTargets({el:n});let r="";for(const o of s)r+=`${o.getAttribute("id")} `;t.a11y.labelElements&&(n.setAttribute("aria-labelledby",r.trim()),n.removeAttribute("aria-label")),t.a11y.controls&&n.setAttribute("aria-controls",r.trim())}if(t.a11y.labelTargets)for(const n of e.targets){const s=e.getElements({el:n});let r="";for(const o of s)r+=`${o.getAttribute("id")} `;n.setAttribute("aria-labelledby",r.trim()),n.removeAttribute("aria-label")}}}_initA11yChange(){const e=this,t=e.options;if(t.a11y.selected||t.a11y.expanded){if(t.a11y.expanded)for(const n of e.targets)n.setAttribute("aria-expanded","false");for(const n of e.elements){t.a11y.selected&&e._hasContainer&&e.targets.length&&n.setAttribute("aria-selected","false");const s=a.dataStorage.put(n,`on.${e._componentNs}/ariaselected/${e.ns}`,e._eventA11yChangeOn.bind(e).bind(e,{el:n}));n.addEventListener(`on.${e._componentNs}`,s);const r=a.dataStorage.put(n,`off.${e._componentNs}/ariaselected/${e.ns}`,e._eventA11yChangeOff.bind(e).bind(e,{el:n}));n.addEventListener(`off.${e._componentNs}`,r)}}}_eventA11yChangeOn({el:e}={}){const t=this,n=t.options;if(n.a11y.expanded){const s=t.getTargets({el:e});for(const r of s)r.setAttribute("aria-expanded","true")}n.a11y.selected&&t._hasContainer&&t.targets.length&&e.setAttribute("aria-selected","true")}_eventA11yChangeOff({el:e}={}){const t=this,n=t.options;if(n.a11y.expanded){const s=t.getTargets({el:e});for(const r of s)r.setAttribute("aria-expanded","false")}n.a11y.selected&&t._hasContainer&&t.targets.length&&e.setAttribute("aria-selected","false")}_initA11yAuto(){const e=this,t=e.options;if(t.auto&&t.auto.time&&t.a11y.live){const n=e.container;n.setAttribute("aria-live","polite");const s=a.dataStorage.put(n,`autostart.${e._componentNs}/arialive/${e.ns}`,e._eventA11yAutostart.bind(e).bind(e,{container:n}));n.addEventListener(`autostart.${e._componentNs}`,s);const r=a.dataStorage.put(n,`autostop.${e._componentNs}/arialive/${e.ns}`,e._eventA11yAutostop.bind(e).bind(e,{container:n}));n.addEventListener(`autostop.${e._componentNs}`,r)}}_eventA11yAutostart({container:e}={}){e.setAttribute("aria-live","off")}_eventA11yAutostop({container:e}={}){e.setAttribute("aria-live","polite")}_initA11yStatus({els:e}={}){const t=this;if(t.options.a11y.disabled){const s=t.container,r=a.dataStorage.put(s,`status.${t._componentNs}/ariastatus/${t.ns}`,t._eventA11yStatus.bind(t).bind(t,{els:e}));s.addEventListener(`status.${t._componentNs}`,r)}}_eventA11yStatus({els:e}={}){const t=this;for(const n of e)t.disabled?n.setAttribute("aria-disabled","true"):n.removeAttribute("aria-disabled")}_initA11yKeyboard({els:e}={}){const t=this;if(t.options.a11y.keyboard)for(const s of e){const r=a.dataStorage.put(s,`on.${t._componentNs}/ariakeyboard/${t.ns}`,t._eventA11yOn.bind(t).bind(t,{el:s}));s.addEventListener(`on.${t._componentNs}`,r);const o=a.dataStorage.put(s,`off.${t._componentNs}/ariakeyboard/${t.ns}`,t._eventA11yOff.bind(t).bind(t,{el:s}));s.addEventListener(`off.${t._componentNs}`,o)}}_eventA11yOn({el:e}={}){const t=this,n=t.options,s=a.dataStorage.put(e,`keydown/ariakeyboard/${t.ns}`,t._eventA11yKeydown.bind(t));if(e.addEventListener("keydown",s,{passive:!1}),n.a11y.role==="popup"||n.a11y.role==="dialog"||n.a11y.items){const r=a.dataStorage.put(document,`keydown/ariakeyboard/document/${t.ns}`,t._eventA11yDocumentKeydown.bind(t).bind(t,{el:e}));document.removeEventListener("keydown",r),document.addEventListener("keydown",r)}}_eventA11yOff({el:e}={}){const t=this,n=a.dataStorage.get(e,`keydown/ariakeyboard/${t.ns}`);e.removeEventListener("keydown",n);const s=a.dataStorage.get(e,`keydown/ariakeyboard/document/${t.ns}`);document.removeEventListener("keydown",s)}_eventA11yKeydown(e){const t=this,n=t.options;if(t.disabled)return;const s=e.key,r=n.a11y.vertical?"ArrowUp":"ArrowLeft",o=n.a11y.vertical?"ArrowDown":"ArrowRight";let c;if(n.a11y.vertical,s===r?c=t.getPrev():s===o&&(c=t.getNext()),c){t._eventOn({el:c,focus:!0}),e.preventDefault();return}}_eventA11yDocumentKeydown({el:e}={},t){const n=this,s=n.options;if(n.disabled)return;const r=t.key,o=s.a11y.vertical?"ArrowLeft":"ArrowUp",c=s.a11y.vertical?"ArrowRight":"ArrowDown";if(r==="Escape"&&(s.a11y.role==="popup"||s.a11y.role==="dialog")){n._eventOff({el:e,focus:!0});return}if(s.a11y.items){let l;const f=[],h=n.targets.filter(v=>n.hasCurrent({el:v}));for(const v of h)f.push(...v.querySelectorAll(s.a11y.items));if(f.length){const v=f.indexOf(document.activeElement);if(r===o){if(v===-1)l=f[f.length-1];else{const E=(v-1+f.length)%f.length;l=f[E]}t.preventDefault()}else if(r===c){if(v===-1)l=f[0];else{const E=(v+1)%f.length;l=f[E]}t.preventDefault()}else{n._search=n._search+t.key.toLowerCase();const E=f.filter(w=>{var $;return($=w.innerText)==null?void 0:$.toLowerCase().startsWith(n._search)});E.length&&(l=E[0]),clearTimeout(a.dataStorage.get(document,`${n.ns}SearchTimeout`)),a.dataStorage.set(document,`${n.ns}SearchTimeout`,setTimeout(()=>{n._search=""},500))}if(l){l.focus();return}}}}reinit({save:e=!0}={}){const t=this;if(t.options.disableDeactivate)for(const s of t.targets.filter(r=>t.hasCurrent({el:r})))t._specialAppendto({actionCurrent:"Out",el:s,type:"targets"});t._initLogic({save:e})}restart(){const e=this;e._initStart(),e.container.dispatchEvent(new CustomEvent(`restart.${e._componentNs}`))}_addNamespace(){var t;const e=this;if(e._mode==="unique"){const n=(t=a.dataStorage.get(e.ns,"xtNamespace"))!=null?t:[];n.includes(e)||(n.push(e),a.dataStorage.set(e.ns,"xtNamespace",n))}}_removeNamespace(){const e=this;if(e._mode==="unique"){let t=a.dataStorage.get(e.ns,"xtNamespace");t&&(t=t.filter(n=>n!==e),a.dataStorage.set(e.ns,"xtNamespace",t))}}_removeEvents(){const e=this;for(const t of e._destroyElements){const n=a.dataStorage.getAll(t);if(n){for(const[s]of n)if(s&&s.endsWith(e.ns)){const r=a.dataStorage.get(t,s);if(typeof r=="function"){const o=s.split("/")[0].split(" ");for(const c of o)t.removeEventListener(c,r),t.removeEventListener(c,r,!0)}}}}}destroy({weak:e=!1}={}){const t=this;t.disable({skipEvent:!0}),a._removeMatches({self:t,optionsInitial:t._optionsInitial}),t._removeEvents(),t._removeNamespace(),e||(t.container.removeAttribute(`data-${t.componentName}-init`),a._remove({name:t.componentName,el:t.container}),t.container.dispatchEvent(new CustomEvent(`destroy.${t._componentNs}`)),delete this)}}ee.componentName="xt-toggle";ee.optionsDefaultSuper={debug:!1,elements:"[data-xt-toggle-element]",targets:"[data-xt-toggle-target]",elementsInner:!1,targetsInner:!1,exclude:!1,class:"on",classIn:"in",classOut:"out",classDone:"done",classInitial:"initial",classBefore:"dir-before",classAfter:"dir-after",classSkip:!1,hash:"data-xt-hash",groupSeparator:",",groupElements:!0,min:0,max:1,on:"click",off:"click",mouseParent:!1,eventLimit:".xt-event-limit",closeDeep:!1,closeInside:!1,closeOutside:!1,preventEvent:!1,queue:{elements:!1,targets:!0,elementsInner:!1,targetsInner:!0},delay:!1,delayIn:!1,delayOut:!1,duration:!1,durationIn:!1,durationOut:!1,auto:{time:!1,initial:!0,step:1,inverse:!1,pause:"a, button",loop:!0},disableDeactivate:!1,scrollto:!1,scrolltoInit:!1,matches:!1,disabled:!1,visibleReinit:!1,loop:!1,jump:!1,navigation:!1,appendTo:!1,classBody:!1,closeauto:!1,openauto:!1,mediaLoaded:!1,mediaLoadedReinit:!1,zIndex:!1,focusLimit:!1,focusTrap:{initialFocus:!1,preventScroll:!0,allowOutsideClick:!0,fallbackFocus:"body"},collapseHeight:!1,collapseWidth:!1,a11y:{role:!1,labelElements:!1,labelTargets:!0,controls:!0,selected:!1,expanded:!1,live:!0,disabled:!0,keyboard:!0,vertical:!1,items:!1}};a.Toggle=ee;typeof window<"u"&&a.mount({matches:`[data-${a.Toggle.componentName}]`,mount:({ref:i})=>{const e=i.getAttribute(`data-${a.Toggle.componentName}`),t=e?ue.parse(e):{};let n=new a.Toggle(i,t);return()=>{n.destroy(),n=null}}});console.log("_common.js");
